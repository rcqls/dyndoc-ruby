#!/usr/bin/env ruby
require 'fileutils'

arg=ARGV[0]
arg="path" if !arg or arg.empty?

case arg
when "help"
	puts <<-DOC
launchctl helpers to launch dyn-srv service.
Usage: dyn-init path    => create ~/dyndoc folder
dyn-init srv new|load   => create when not existing the dyn-srv service
dyn-init srv unload     => unload existing service
dyn-init srv start/stop => start/stop the dyn-srv service
dyn-init srv [list]     => list dyn-srv service
DOC
when "path"
	share_path=File.expand_path("../../share", __FILE__)
	dyndoc_path=File.join(ENV["HOME"],"dyndoc")
	unless File.exist? dyndoc_path
		FileUtils.mkdir_p dyndoc_path
		FileUtils.cp_r File.join(share_path,"."),dyndoc_path
	else
		puts "Warning: #{dyndoc_path} folder already exists!"
	end
end
